library(lubridate); library(stringr); library(purrr); library(readr)
library(readr)
finStatement <- read_csv("http://mopsfin.twse.com.tw/opendata/t187ap06_O_ci.csv")
View(finStatement)
# loss1Companies
finStatement$`營業利益（損失）` < 0 -> loss1Companies
as.character(loss1Companies) -> loss1Companies
loss1Companies
View(finStatement)
# loss2Companies
loss2Companies <- as.character(finStatement$`基本每股盈餘（元）` < 0)
loss2Companies
# only1LossCompanies
lossstep1 <- finStatement$`營業利益（損失）`>0 & finStatement$`基本每股盈餘（元）`<0
lossstep2 <- finStatement$`營業利益（損失）`<0 & finStatement$`基本每股盈餘（元）`>0
only1LossCompanies <- as.character(lossstep1 | lossstep2)
only1LossCompanies
# loss1Companies
finStatement$`營業利益（損失）` < 0 -> loss1Companies
as.character(loss1Companies) -> loss1Companies
loss1Companies
# loss2Companies
loss2Companies <- as.character(finStatement$`基本每股盈餘（元）` < 0)
loss2Companies
# loss1Companies
finStatement$`營業利益（損失）` < 0 -> loss1Companies1
as.character(loss1Companies1) -> loss1Companies1
loss1Companies <- finStatement$公司名稱[loss1Companies1]
loss1Companies
# loss1Companies
finStatement$`營業利益（損失）` < 0 -> loss1Companies1
loss1Companies <- finStatement$公司名稱[loss1Companies1]
loss1Companies
# loss1Companies
finStatement$`營業利益（損失）` < 0 -> loss1Companies1
loss1Companies <- finStatement$公司名稱[loss1Companies1]
loss1Companies
# loss1Companies
finStatement$`營業利益（損失）` < 0 -> loss1Companies1
loss1Companies <- finStatement$公司名稱[loss1Companies1]
loss1Companies <- as.character(loss1Companies)
loss1Companies
# loss2Companies
loss2Companies1 <- finStatement$`基本每股盈餘（元）` < 0
loss2Companies <- finStatement$公司名稱[loss2Companies1]
loss2Companies <- as.character(loss2Companies)
loss2Companies
# only1LossCompanies
lossstep1 <- finStatement$`營業利益（損失）`>0 & finStatement$`基本每股盈餘（元）`<0
lossstep2 <- finStatement$`營業利益（損失）`<0 & finStatement$`基本每股盈餘（元）`>0
only1LossCompanies1 <- lossstep1 | lossstep2
only1LossCompanies <- finStatement$公司名稱[only1LossCompanies1]
only1LossCompanies <- as.character(only1LossCompanies)
only1LossCompanies
